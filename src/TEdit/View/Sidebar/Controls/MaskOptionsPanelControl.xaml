<UserControl x:Class="TEdit.View.Sidebar.Controls.MaskOptionsPanelControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
             xmlns:editor="clr-namespace:TEdit.Editor;assembly=TEdit.Editor"
             xmlns:Terraria="clr-namespace:TEdit.Terraria;assembly=TEdit.Terraria"
             xmlns:controls="clr-namespace:TEdit.UI.Controls"
             xmlns:p="clr-namespace:TEdit.Properties"
             xmlns:viewModel="clr-namespace:TEdit.ViewModel"
             mc:Ignorable="d"
             d:DesignHeight="700" d:DesignWidth="420"
             d:DataContext="{d:DesignInstance Type=viewModel:WorldViewModel}">

    <Grid Margin="4">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="4" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <!-- Type -->
            <RowDefinition Height="Auto" />  <!-- 0: headers -->
            <RowDefinition Height="Auto" />  <!-- 1: values -->
            <!-- Brick Style -->
            <RowDefinition Height="Auto" />  <!-- 2: header -->
            <RowDefinition Height="Auto" />  <!-- 3: values -->
            <!-- Paint -->
            <RowDefinition Height="Auto" />  <!-- 4: header -->
            <RowDefinition Height="Auto" />  <!-- 5: values -->
            <!-- Coating -->
            <RowDefinition Height="Auto" />  <!-- 6: header -->
            <RowDefinition Height="Auto" />  <!-- 7: echo -->
            <RowDefinition Height="Auto" />  <!-- 8: illuminant -->
            <!-- Extras -->
            <RowDefinition Height="Auto" />  <!-- 9: header -->
            <RowDefinition Height="Auto" />  <!-- 10: values -->
            <!-- Wires -->
            <RowDefinition Height="Auto" />  <!-- 11: header -->
            <RowDefinition Height="Auto" />  <!-- 12: red/blue -->
            <RowDefinition Height="Auto" />  <!-- 13: green/yellow -->
            <!-- Liquid -->
            <RowDefinition Height="Auto" />  <!-- 14: header -->
            <RowDefinition Height="Auto" />  <!-- 15: type / level mode -->
      <RowDefinition Height="Auto" />
      <!-- 16: slider -->
      <RowDefinition Height="Auto" />
      <!-- 16: slider -->
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>

        <!-- ═══ Row 0: Type headers ═══ -->
        <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                   Text="{x:Static p:Language.mask_section_tile}" FontWeight="SemiBold"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" Margin="0,4,0,2" />
        <TextBlock Grid.Row="0" Grid.Column="3" Grid.ColumnSpan="2"
                   Text="{x:Static p:Language.mask_section_wall}" FontWeight="SemiBold"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" Margin="0,4,0,2" />

        <!-- ═══ Row 1: Type values ═══ -->
        <ComboBox Grid.Row="1" Grid.Column="0"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.TileMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  ToolTip="{x:Static p:Language.mask_section_tile}"
                  Margin="0,0,2,0" />
        <controls:FilterablePickerControl Grid.Row="1" Grid.Column="1"
                  ItemsSource="{Binding Source={x:Static Terraria:WorldConfiguration.TileBricksMask}, Mode=OneTime}"
                  ItemTemplate="{StaticResource ColorPickerTemplate}"
                  SelectedValue="{Binding MaskSettings.TileMaskValue, Mode=TwoWay}"
                  SelectedValuePath="Id"
                  DisplayMemberPath="Name"
                  FilterMemberPath="Name"
                  FilterIdMemberPath="Id"
                  Placeholder="Search tiles..." />
        <ComboBox Grid.Row="1" Grid.Column="3"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.WallMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  ToolTip="{x:Static p:Language.mask_section_wall}"
                  Margin="0,0,2,0" />
        <controls:FilterablePickerControl Grid.Row="1" Grid.Column="4"
                  ItemsSource="{Binding Source={x:Static Terraria:WorldConfiguration.WallPropertiesMask}, Mode=OneTime}"
                  ItemTemplate="{StaticResource ColorPickerTemplate}"
                  SelectedValue="{Binding MaskSettings.WallMaskValue, Mode=TwoWay}"
                  SelectedValuePath="Id"
                  DisplayMemberPath="Name"
                  FilterMemberPath="Name"
                  FilterIdMemberPath="Id"
                  Placeholder="Search walls..." />

        <!-- ═══ Row 2: Brick Style header ═══ -->
        <TextBlock Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                   Text="{x:Static p:Language.mask_section_brickstyle}" FontWeight="SemiBold"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" Margin="0,8,0,2" />

        <!-- ═══ Row 3: Brick Style values (tile column only) ═══ -->
        <ComboBox Grid.Row="3" Grid.Column="0"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.BrickStyleMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  ToolTip="{x:Static p:Language.mask_section_brickstyle}"
                  Margin="0,0,2,0" />
        <ComboBox Grid.Row="3" Grid.Column="1"
                  ItemsSource="{StaticResource BrickStyle}"
                  SelectedValue="{Binding MaskSettings.BrickStyleMaskValue}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource EnumTemplate}" />

        <!-- ═══ Row 4: Paint header ═══ -->
        <TextBlock Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="5"
                   Text="{x:Static p:Language.tool_paint_paint_header}" FontWeight="SemiBold"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" Margin="0,8,0,2" />

        <!-- ═══ Row 5: Paint values ═══ -->
        <ComboBox Grid.Row="5" Grid.Column="0"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.TilePaintMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  ToolTip="{x:Static p:Language.mask_section_tile_paint}"
                  Margin="0,0,2,0" />
        <ComboBox Grid.Row="5" Grid.Column="1"
                  ItemsSource="{Binding Source={x:Static Terraria:WorldConfiguration.PaintProperties}, Mode=OneTime}"
                  ItemTemplate="{StaticResource ColorPickerTemplate}"
                  SelectedValue="{Binding MaskSettings.TilePaintMaskValue, Mode=TwoWay}"
                  SelectedValuePath="Id" />
        <ComboBox Grid.Row="5" Grid.Column="3"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.WallPaintMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  ToolTip="{x:Static p:Language.mask_section_wall_paint}"
                  Margin="0,0,2,0" />
        <ComboBox Grid.Row="5" Grid.Column="4"
                  ItemsSource="{Binding Source={x:Static Terraria:WorldConfiguration.PaintProperties}, Mode=OneTime}"
                  ItemTemplate="{StaticResource ColorPickerTemplate}"
                  SelectedValue="{Binding MaskSettings.WallPaintMaskValue, Mode=TwoWay}"
                  SelectedValuePath="Id" />

        <!-- ═══ Row 6: Coating header ═══ -->
        <TextBlock Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="5"
                   Text="{x:Static p:Language.tool_paint_coating}" FontWeight="SemiBold"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" Margin="0,8,0,2" />

        <!-- ═══ Row 7: Echo ═══ -->
        <ComboBox Grid.Row="7" Grid.Column="0"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.TileEchoMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  Margin="0,0,2,2" />
        <TextBlock Grid.Row="7" Grid.Column="1" Text="{x:Static p:Language.mask_echo}"
                   VerticalAlignment="Center"
                   Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
        <ComboBox Grid.Row="7" Grid.Column="3"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.WallEchoMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  Margin="0,0,2,2" />
        <TextBlock Grid.Row="7" Grid.Column="4" Text="{x:Static p:Language.mask_echo}"
                   VerticalAlignment="Center"
                   Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />

        <!-- ═══ Row 8: Illuminant ═══ -->
        <ComboBox Grid.Row="8" Grid.Column="0"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.TileIlluminantMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  Margin="0,0,2,0" />
        <TextBlock Grid.Row="8" Grid.Column="1" Text="{x:Static p:Language.mask_illuminant}"
                   VerticalAlignment="Center"
                   Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
        <ComboBox Grid.Row="8" Grid.Column="3"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.WallIlluminantMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  Margin="0,0,2,0" />
        <TextBlock Grid.Row="8" Grid.Column="4" Text="{x:Static p:Language.mask_illuminant}"
                   VerticalAlignment="Center"
                   Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />

        <!-- ═══ Row 9: Extras header ═══ -->
        <TextBlock Grid.Row="9" Grid.Column="0" Grid.ColumnSpan="5"
                   Text="{x:Static p:Language.tool_paint_extras}" FontWeight="SemiBold"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" Margin="0,8,0,2" />

        <!-- ═══ Row 10: Actuator | Inactive ═══ -->
        <ComboBox Grid.Row="10" Grid.Column="0"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.ActuatorMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  ToolTip="{x:Static p:Language.mask_section_actuator}"
                  Margin="0,0,2,0" />
        <TextBlock Grid.Row="10" Grid.Column="1" Text="{x:Static p:Language.mask_section_actuator}"
                   VerticalAlignment="Center"
                   Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
        <ComboBox Grid.Row="10" Grid.Column="3"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.ActuatorInActiveMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  ToolTip="{x:Static p:Language.mask_section_inactive}"
                  Margin="0,0,2,0" />
        <TextBlock Grid.Row="10" Grid.Column="4" Text="{x:Static p:Language.mask_section_inactive}"
                   VerticalAlignment="Center"
                   Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />

        <!-- ═══ Row 11: Wires header ═══ -->
        <TextBlock Grid.Row="11" Grid.Column="0" Grid.ColumnSpan="5"
                   Text="{x:Static p:Language.mask_section_wires}" FontWeight="SemiBold"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" Margin="0,8,0,2" />

        <!-- ═══ Row 12: Red | Blue ═══ -->
        <ComboBox Grid.Row="12" Grid.Column="0"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.WireRedMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  ToolTip="{x:Static p:Language.tool_paint_wire_red}"
                  Margin="0,0,2,2" />
        <TextBlock Grid.Row="12" Grid.Column="1" Text="{x:Static p:Language.tool_paint_wire_red}"
                   VerticalAlignment="Center"
                   Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
        <ComboBox Grid.Row="12" Grid.Column="3"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.WireBlueMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  ToolTip="{x:Static p:Language.tool_paint_wire_blue}"
                  Margin="0,0,2,2" />
        <TextBlock Grid.Row="12" Grid.Column="4" Text="{x:Static p:Language.tool_paint_wire_blue}"
                   VerticalAlignment="Center"
                   Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />

        <!-- ═══ Row 13: Green | Yellow ═══ -->
        <ComboBox Grid.Row="13" Grid.Column="0"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.WireGreenMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  ToolTip="{x:Static p:Language.tool_paint_wire_green}"
                  Margin="0,0,2,0" />
        <TextBlock Grid.Row="13" Grid.Column="1" Text="{x:Static p:Language.tool_paint_wire_green}"
                   VerticalAlignment="Center"
                   Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
        <ComboBox Grid.Row="13" Grid.Column="3"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.WireYellowMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  ToolTip="{x:Static p:Language.tool_paint_wire_yellow}"
                  Margin="0,0,2,0" />
        <TextBlock Grid.Row="13" Grid.Column="4" Text="{x:Static p:Language.tool_paint_wire_yellow}"
                   VerticalAlignment="Center"
                   Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />

        <!-- ═══ Row 14: Liquid header ═══ -->
        <TextBlock Grid.Row="14" Grid.Column="0" Grid.ColumnSpan="2"
                   Text="{x:Static p:Language.mask_section_liquid_type}" FontWeight="SemiBold"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" Margin="0,8,0,2" />
        <TextBlock Grid.Row="14" Grid.Column="3" Grid.ColumnSpan="2"
                   Text="{x:Static p:Language.mask_section_liquid_level}" FontWeight="SemiBold"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" Margin="0,8,0,2" />

        <!-- ═══ Row 15: Liquid type | Level mode ═══ -->
        <ComboBox Grid.Row="15" Grid.Column="0"
                  ItemsSource="{StaticResource MaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.LiquidTypeMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource MaskModeIconTemplate}"
                  ToolTip="{x:Static p:Language.mask_section_liquid_type}"
                  Margin="0,0,2,0" />
        <ComboBox Grid.Row="15" Grid.Column="1"
                  ItemsSource="{StaticResource LiquidType}"
                  SelectedValue="{Binding MaskSettings.LiquidTypeMaskValue}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource EnumTemplate}" />
        <ComboBox Grid.Row="15" Grid.Column="3"
                  ItemsSource="{StaticResource LiquidLevelMaskModeEnum}"
                  SelectedValue="{Binding MaskSettings.LiquidLevelMaskMode}"
                  SelectedValuePath="Value"
                  ItemTemplate="{StaticResource EnumTemplate}" />

        <!-- ═══ Row 16: Liquid level slider ═══ -->
    <DockPanel Grid.Row="15" Grid.Column="4">

      <TextBlock DockPanel.Dock="Right"
                   Text="{Binding MaskSettings.LiquidLevelMaskValue}"
                   VerticalAlignment="Center" Margin="4,2,0,0" MinWidth="25"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
      <Slider  Minimum="0" Maximum="255"
                Value="{Binding MaskSettings.LiquidLevelMaskValue}"
                VerticalAlignment="Center" Margin="0,2,0,0"
                IsSnapToTickEnabled="True" TickFrequency="1" />
    </DockPanel>

  </Grid>
</UserControl>
