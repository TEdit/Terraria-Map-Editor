<UserControl x:Class="TEdit.View.Sidebar.Controls.MaskOptionsPanelControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
             xmlns:editor="clr-namespace:TEdit.Editor;assembly=TEdit.Editor"
             xmlns:Terraria="clr-namespace:TEdit.Terraria;assembly=TEdit.Terraria"
             xmlns:tedit="clr-namespace:TEdit.UI.Xaml"
             xmlns:p="clr-namespace:TEdit.Properties"
             xmlns:viewModel="clr-namespace:TEdit.ViewModel"
             mc:Ignorable="d"
             d:DesignHeight="700" d:DesignWidth="420"
             d:DataContext="{d:DesignInstance Type=viewModel:WorldViewModel}">

    <StackPanel Margin="4">

        <!-- ── Type ── -->
        <Grid Margin="0,4,0,2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0" Text="{x:Static p:Language.mask_section_tile}" FontWeight="SemiBold"
                       Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
            <TextBlock Grid.Column="2" Text="{x:Static p:Language.mask_section_wall}" FontWeight="SemiBold"
                       Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        </Grid>
        <!-- [icon] Tile | [icon] Wall -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ComboBox Grid.Column="0" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.TileMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      ToolTip="{x:Static p:Language.mask_section_tile}"
                      Margin="0,0,2,0" />
            <tedit:FilteredComboBox Grid.Column="1"
                ItemsSource="{Binding Source={x:Static Terraria:WorldConfiguration.TileBricksMask}, Mode=OneTime}"
                ItemTemplate="{StaticResource ColorPickerTemplate}"
                SelectedValue="{Binding MaskSettings.TileMaskValue, Mode=TwoWay}"
                IsSynchronizedWithCurrentItem="False"
                IsEditable="True"
                SelectedValuePath="Id"
                IsTextSearchEnabled="False" />
            <ComboBox Grid.Column="3" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.WallMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      ToolTip="{x:Static p:Language.mask_section_wall}"
                      Margin="0,0,2,0" />
            <tedit:FilteredComboBox Grid.Column="4"
                ItemsSource="{Binding Source={x:Static Terraria:WorldConfiguration.WallPropertiesMask}, Mode=OneTime}"
                ItemTemplate="{StaticResource ColorPickerTemplate}"
                SelectedValue="{Binding MaskSettings.WallMaskValue, Mode=TwoWay}"
                IsSynchronizedWithCurrentItem="False"
                IsEditable="True"
                SelectedValuePath="Id"
                IsTextSearchEnabled="False"
                TextSearch.TextPath="Name" />
        </Grid>

        <!-- ── Brick Style (tile column only) ── -->
        <TextBlock Text="{x:Static p:Language.mask_section_brickstyle}" FontWeight="SemiBold" Margin="0,8,0,2"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ComboBox Grid.Column="0" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.BrickStyleMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      ToolTip="{x:Static p:Language.mask_section_brickstyle}"
                      Margin="0,0,2,0" />
            <ComboBox Grid.Column="1" ItemsSource="{StaticResource BrickStyle}"
                      SelectedValue="{Binding MaskSettings.BrickStyleMaskValue}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource EnumTemplate}" />
        </Grid>

        <!-- ── Paint ── -->
        <TextBlock Text="{x:Static p:Language.tool_paint_paint_header}" FontWeight="SemiBold" Margin="0,8,0,2"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ComboBox Grid.Column="0" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.TilePaintMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      ToolTip="{x:Static p:Language.mask_section_tile_paint}"
                      Margin="0,0,2,0" />
            <ComboBox Grid.Column="1"
                      ItemsSource="{Binding Source={x:Static Terraria:WorldConfiguration.PaintProperties}, Mode=OneTime}"
                      ItemTemplate="{StaticResource ColorPickerTemplate}"
                      SelectedValue="{Binding MaskSettings.TilePaintMaskValue, Mode=TwoWay}"
                      SelectedValuePath="Id" />
            <ComboBox Grid.Column="3" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.WallPaintMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      ToolTip="{x:Static p:Language.mask_section_wall_paint}"
                      Margin="0,0,2,0" />
            <ComboBox Grid.Column="4"
                      ItemsSource="{Binding Source={x:Static Terraria:WorldConfiguration.PaintProperties}, Mode=OneTime}"
                      ItemTemplate="{StaticResource ColorPickerTemplate}"
                      SelectedValue="{Binding MaskSettings.WallPaintMaskValue, Mode=TwoWay}"
                      SelectedValuePath="Id" />
        </Grid>

        <!-- ── Coating ── -->
        <TextBlock Text="{x:Static p:Language.tool_paint_coating}" FontWeight="SemiBold" Margin="0,8,0,2"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <!-- Echo row: [icon] Tile Echo | [icon] Wall Echo -->
        <Grid Margin="0,0,0,2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ComboBox Grid.Column="0" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.TileEchoMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      Margin="0,0,2,0" />
            <TextBlock Grid.Column="1" Text="{x:Static p:Language.mask_echo}" VerticalAlignment="Center"
                       Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
            <ComboBox Grid.Column="3" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.WallEchoMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      Margin="0,0,2,0" />
            <TextBlock Grid.Column="4" Text="{x:Static p:Language.mask_echo}" VerticalAlignment="Center"
                       Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
        </Grid>
        <!-- Illuminant row: [icon] Tile Illuminant | [icon] Wall Illuminant -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ComboBox Grid.Column="0" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.TileIlluminantMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      Margin="0,0,2,0" />
            <TextBlock Grid.Column="1" Text="{x:Static p:Language.mask_illuminant}" VerticalAlignment="Center"
                       Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
            <ComboBox Grid.Column="3" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.WallIlluminantMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      Margin="0,0,2,0" />
            <TextBlock Grid.Column="4" Text="{x:Static p:Language.mask_illuminant}" VerticalAlignment="Center"
                       Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
        </Grid>

        <!-- ── Extras ── -->
        <TextBlock Text="{x:Static p:Language.tool_paint_extras}" FontWeight="SemiBold" Margin="0,8,0,2"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ComboBox Grid.Column="0" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.ActuatorMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      ToolTip="{x:Static p:Language.mask_section_actuator}"
                      Margin="0,0,2,0" />
            <TextBlock Grid.Column="1" Text="{x:Static p:Language.mask_section_actuator}" VerticalAlignment="Center"
                       Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
            <ComboBox Grid.Column="3" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.ActuatorInActiveMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      ToolTip="{x:Static p:Language.mask_section_inactive}"
                      Margin="0,0,2,0" />
            <TextBlock Grid.Column="4" Text="{x:Static p:Language.mask_section_inactive}" VerticalAlignment="Center"
                       Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
        </Grid>

        <!-- ── Wires ── -->
        <TextBlock Text="{x:Static p:Language.mask_section_wires}" FontWeight="SemiBold" Margin="0,8,0,2"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <!-- Red | Blue -->
        <Grid Margin="0,0,0,2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ComboBox Grid.Column="0" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.WireRedMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      ToolTip="{x:Static p:Language.tool_paint_wire_red}"
                      Margin="0,0,2,0" />
            <TextBlock Grid.Column="1" Text="{x:Static p:Language.tool_paint_wire_red}" VerticalAlignment="Center"
                       Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
            <ComboBox Grid.Column="3" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.WireBlueMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      ToolTip="{x:Static p:Language.tool_paint_wire_blue}"
                      Margin="0,0,2,0" />
            <TextBlock Grid.Column="4" Text="{x:Static p:Language.tool_paint_wire_blue}" VerticalAlignment="Center"
                       Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
        </Grid>
        <!-- Green | Yellow -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ComboBox Grid.Column="0" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.WireGreenMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      ToolTip="{x:Static p:Language.tool_paint_wire_green}"
                      Margin="0,0,2,0" />
            <TextBlock Grid.Column="1" Text="{x:Static p:Language.tool_paint_wire_green}" VerticalAlignment="Center"
                       Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
            <ComboBox Grid.Column="3" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.WireYellowMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      ToolTip="{x:Static p:Language.tool_paint_wire_yellow}"
                      Margin="0,0,2,0" />
            <TextBlock Grid.Column="4" Text="{x:Static p:Language.tool_paint_wire_yellow}" VerticalAlignment="Center"
                       Foreground="{DynamicResource TextFillColorSecondaryBrush}" Margin="4,0" />
        </Grid>

        <!-- ── Liquid ── -->
        <TextBlock Text="{x:Static p:Language.mask_section_liquid_type}" FontWeight="SemiBold" Margin="0,8,0,2"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <!-- Liquid type row: [icon] Type | [level-icon] Level -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ComboBox Grid.Column="0" ItemsSource="{StaticResource MaskModeEnum}"
                      SelectedValue="{Binding MaskSettings.LiquidTypeMaskMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource MaskModeIconTemplate}"
                      ToolTip="{x:Static p:Language.mask_section_liquid_type}"
                      Margin="0,0,2,0" />
            <ComboBox Grid.Column="1" ItemsSource="{StaticResource LiquidType}"
                      SelectedValue="{Binding MaskSettings.LiquidTypeMaskValue}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource EnumTemplate}" />
            <!-- Liquid level -->
            <StackPanel Grid.Column="3">
                <ComboBox ItemsSource="{StaticResource LiquidLevelMaskModeEnum}"
                          SelectedValue="{Binding MaskSettings.LiquidLevelMaskMode}"
                          SelectedValuePath="Value"
                          ItemTemplate="{StaticResource EnumTemplate}" Margin="0,0,0,2" />
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <Slider Grid.Column="0" Minimum="0" Maximum="255"
                            Value="{Binding MaskSettings.LiquidLevelMaskValue}"
                            VerticalAlignment="Center"
                            IsSnapToTickEnabled="True" TickFrequency="1" />
                    <TextBlock Grid.Column="1" Text="{Binding MaskSettings.LiquidLevelMaskValue}"
                               VerticalAlignment="Center" Margin="4,0,0,0" MinWidth="25"
                               Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
                </Grid>
            </StackPanel>
        </Grid>

    </StackPanel>
</UserControl>
