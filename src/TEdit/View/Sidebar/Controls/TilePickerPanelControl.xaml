<UserControl x:Class="TEdit.View.Sidebar.Controls.TilePickerPanelControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
             xmlns:editor="clr-namespace:TEdit.Editor;assembly=TEdit.Editor"
             xmlns:Terraria="clr-namespace:TEdit.Terraria;assembly=TEdit.Terraria"
             xmlns:controls="clr-namespace:TEdit.UI.Controls"
             xmlns:p="clr-namespace:TEdit.Properties"
             xmlns:viewModel="clr-namespace:TEdit.ViewModel"
             mc:Ignorable="d"
             d:DesignHeight="500" d:DesignWidth="420"
             d:DataContext="{d:DesignInstance Type=viewModel:WorldViewModel}">

    <StackPanel Margin="4">

        <!-- Paint Mode + Eraser -->
        <Grid Margin="0,0,0,4">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0" Text="{x:Static p:Language.tool_paint_mode}" VerticalAlignment="Center" Margin="0,0,8,0"
                       Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
            <ComboBox Grid.Column="1" ItemsSource="{StaticResource PaintModeEnum}"
                      SelectedValue="{Binding TilePicker.PaintMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource EnumTemplate}" />
            <ToggleButton Grid.Column="2" ToolTip="{x:Static p:Language.tool_paint_eraser_tooltip}"
                          IsChecked="{Binding Path=TilePicker.IsEraser, Mode=TwoWay}"
                          Margin="4,0,0,0" Padding="4">
                <ui:SymbolIcon Symbol="Eraser20" FontSize="16" />
            </ToggleButton>
        </Grid>

        <!-- ── Type ── -->
        <!-- Column headers -->
        <Grid Margin="0,4,0,2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0" Text="{x:Static p:Language.tool_paint_tile_title}" FontWeight="SemiBold"
                       Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
            <TextBlock Grid.Column="2" Text="{x:Static p:Language.tool_paint_wall_title}" FontWeight="SemiBold"
                       Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        </Grid>
        <!-- Tile | Wall row -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ui:ToggleSwitch Grid.Column="0" IsChecked="{Binding TilePicker.TileStyleActive}"
                             ToolTip="{x:Static p:Language.tool_paint_tile_title}"
                             OffContent="" OnContent="" Margin="0,0,4,0" />
            <controls:FilterablePickerControl Grid.Column="1"
                ItemsSource="{Binding Source={x:Static Terraria:WorldConfiguration.TileBricks}, Mode=OneTime}"
                ItemTemplate="{StaticResource ColorPickerTemplate}"
                SelectedValue="{Binding Path=TilePicker.Tile, Mode=TwoWay}"
                SelectedValuePath="Id"
                DisplayMemberPath="Name"
                FilterMemberPath="Name"
                FilterIdMemberPath="Id"
                Placeholder="{x:Static p:Language.picker_search_tiles_placeholder}" />
            <ui:ToggleSwitch Grid.Column="3" IsChecked="{Binding TilePicker.WallStyleActive}"
                             ToolTip="{x:Static p:Language.tool_paint_wall_title}"
                             OffContent="" OnContent="" Margin="0,0,4,0" />
            <controls:FilterablePickerControl Grid.Column="4"
                ItemsSource="{Binding Source={x:Static Terraria:WorldConfiguration.WallProperties}, Mode=OneTime}"
                ItemTemplate="{StaticResource ColorPickerTemplate}"
                SelectedValue="{Binding Path=TilePicker.Wall, Mode=TwoWay}"
                SelectedValuePath="Id"
                DisplayMemberPath="Name"
                FilterMemberPath="Name"
                FilterIdMemberPath="Id"
                Placeholder="{x:Static p:Language.picker_search_walls_placeholder}" />
        </Grid>

        <!-- ── Brick Style (tile column only) ── -->
        <TextBlock Text="{x:Static p:Language.tool_paint_brickstyle}" FontWeight="SemiBold" Margin="0,8,0,2"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ui:ToggleSwitch Grid.Column="0" IsChecked="{Binding TilePicker.BrickStyleActive}"
                             ToolTip="{x:Static p:Language.tool_paint_brickstyle}"
                             OffContent="" OnContent="" Margin="0,0,4,0" />
            <ComboBox Grid.Column="1" ItemsSource="{StaticResource BrickStyle}"
                      SelectedValue="{Binding TilePicker.BrickStyle}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource BrickStyleIconTemplate}" />
        </Grid>

        <!-- ── Paint ── -->
        <TextBlock Text="{x:Static p:Language.tool_paint_paint_header}" FontWeight="SemiBold" Margin="0,8,0,2"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ui:ToggleSwitch Grid.Column="0" IsChecked="{Binding TilePicker.TilePaintActive}"
                             ToolTip="{x:Static p:Language.tool_paint_tile_title}"
                             OffContent="" OnContent="" Margin="0,0,4,0" />
            <ComboBox Grid.Column="1"
                      ItemsSource="{Binding Source={x:Static Terraria:WorldConfiguration.PaintProperties}, Mode=OneTime}"
                      IsEnabled="{Binding TilePicker.TilePaintActive}"
                      ItemTemplate="{StaticResource ColorPickerTemplate}"
                      SelectedValue="{Binding Path=TilePicker.TileColor, Mode=TwoWay}"
                      SelectedValuePath="Id" />
            <ui:ToggleSwitch Grid.Column="3" IsChecked="{Binding TilePicker.WallPaintActive}"
                             ToolTip="{x:Static p:Language.tool_paint_wall_title}"
                             OffContent="" OnContent="" Margin="0,0,4,0" />
            <ComboBox Grid.Column="4"
                      ItemsSource="{Binding Source={x:Static Terraria:WorldConfiguration.PaintProperties}, Mode=OneTime}"
                      IsEnabled="{Binding TilePicker.WallPaintActive}"
                      ItemTemplate="{StaticResource ColorPickerTemplate}"
                      SelectedValue="{Binding Path=TilePicker.WallColor, Mode=TwoWay}"
                      SelectedValuePath="Id" />
        </Grid>

        <!-- ── Coating ── -->
        <TextBlock Text="{x:Static p:Language.tool_paint_coating}" FontWeight="SemiBold" Margin="0,8,0,2"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <!-- Tile coatings -->
            <StackPanel Grid.Column="0">
                <ui:ToggleSwitch IsChecked="{Binding TilePicker.EnableTileCoating}"
                                 Content="{x:Static p:Language.tool_paint_tile_title}"
                                 OffContent="" OnContent="" />
                <ui:ToggleSwitch IsChecked="{Binding TilePicker.TileCoatingIlluminant}"
                                 Content="{x:Static p:Language.tool_paint_illuminantcoating}"
                                 IsEnabled="{Binding TilePicker.EnableTileCoating}"
                                 OffContent="" OnContent="" Margin="16,0,0,0" />
                <ui:ToggleSwitch IsChecked="{Binding TilePicker.TileCoatingEcho}"
                                 Content="{x:Static p:Language.tool_paint_echocoating}"
                                 IsEnabled="{Binding TilePicker.EnableTileCoating}"
                                 OffContent="" OnContent="" Margin="16,0,0,0" />
            </StackPanel>
            <!-- Wall coatings -->
            <StackPanel Grid.Column="2">
                <ui:ToggleSwitch IsChecked="{Binding TilePicker.EnableWallCoating}"
                                 Content="{x:Static p:Language.tool_paint_wall_title}"
                                 OffContent="" OnContent="" />
                <ui:ToggleSwitch IsChecked="{Binding TilePicker.WallCoatingIlluminant}"
                                 Content="{x:Static p:Language.tool_paint_illuminantcoating}"
                                 IsEnabled="{Binding TilePicker.EnableWallCoating}"
                                 OffContent="" OnContent="" Margin="16,0,0,0" />
                <ui:ToggleSwitch IsChecked="{Binding TilePicker.WallCoatingEcho}"
                                 Content="{x:Static p:Language.tool_paint_echocoating}"
                                 IsEnabled="{Binding TilePicker.EnableWallCoating}"
                                 OffContent="" OnContent="" Margin="16,0,0,0" />
            </StackPanel>
        </Grid>

        <!-- ── Extras ── -->
        <TextBlock Text="{x:Static p:Language.tool_paint_extras}" FontWeight="SemiBold" Margin="0,8,0,2"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <StackPanel>
            <ui:ToggleSwitch IsChecked="{Binding TilePicker.ExtrasActive}"
                             Content="{x:Static p:Language.tool_paint_extras}"
                             OffContent="" OnContent="" />
            <ui:ToggleSwitch IsChecked="{Binding TilePicker.Actuator}"
                             Content="{x:Static p:Language.tool_paint_actuator}"
                             IsEnabled="{Binding TilePicker.ExtrasActive}"
                             OffContent="" OnContent="" Margin="16,0,0,0" />
            <ui:ToggleSwitch IsChecked="{Binding TilePicker.ActuatorInActive}"
                             Content="{x:Static p:Language.tool_paint_inactive}"
                             IsEnabled="{Binding TilePicker.ExtrasActive}"
                             OffContent="" OnContent="" Margin="16,0,0,0" />
        </StackPanel>

        <!-- ── Wires ── -->
        <TextBlock Text="{x:Static p:Language.tool_paint_wire_header}" FontWeight="SemiBold" Margin="0,8,0,2"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
            <ui:ToggleSwitch Grid.Row="0" Grid.Column="0" IsChecked="{Binding TilePicker.RedWireActive}"
                             Content="{x:Static p:Language.tool_paint_wire_red}"
                             ToolTip="{x:Static p:Language.tool_paint_wire_red}"
                             OffContent="" OnContent="" />
            <ui:ToggleSwitch Grid.Row="0" Grid.Column="1" IsChecked="{Binding TilePicker.BlueWireActive}"
                             Content="{x:Static p:Language.tool_paint_wire_blue}"
                             ToolTip="{x:Static p:Language.tool_paint_wire_blue}"
                             OffContent="" OnContent="" Margin="4,0,0,0" />
            <ui:ToggleSwitch Grid.Row="1" Grid.Column="0" IsChecked="{Binding TilePicker.GreenWireActive}"
                             Content="{x:Static p:Language.tool_paint_wire_green}"
                             ToolTip="{x:Static p:Language.tool_paint_wire_green}"
                             OffContent="" OnContent="" />
            <ui:ToggleSwitch Grid.Row="1" Grid.Column="1" IsChecked="{Binding TilePicker.YellowWireActive}"
                             Content="{x:Static p:Language.tool_paint_wire_yellow}"
                             ToolTip="{x:Static p:Language.tool_paint_wire_yellow}"
                             OffContent="" OnContent="" Margin="4,0,0,0" />
        </Grid>

        <!-- ── Liquid ── -->
        <TextBlock Text="{x:Static p:Language.tool_paint_liquid_header}" FontWeight="SemiBold" Margin="0,8,0,2"
                   Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <ComboBox Grid.Column="0" ItemsSource="{StaticResource LiquidType}"
                      SelectedValue="{Binding TilePicker.LiquidType}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource EnumTemplate}" />
            <ComboBox Grid.Column="2" ItemsSource="{StaticResource LiquidAmountEnum}"
                      SelectedValue="{Binding TilePicker.LiquidAmountMode}"
                      SelectedValuePath="Value"
                      ItemTemplate="{StaticResource EnumTemplate}" />
        </Grid>

    </StackPanel>
</UserControl>
